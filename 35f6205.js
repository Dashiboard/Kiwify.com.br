(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{153:function(e,t,o){"use strict";o(20),o(17),o(15),o(27),o(19),o(28);var n=o(4),r=o(41),c=o(14);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={methods:{Component:function(e,t){var o={id:Object(r.v4)(),type:"component",hoverState:!1};if("default"===e)return o;if("gap"===e)return d(d({},o),{},{type:"gap"});if("checkout"===e)return d(d({},o),{},{type:"checkout"});if("text"===e){if(!t||"title"===t)return d(d({},o),{},{type:"text",props:{type:"block",content:"<strong class='ql-size-huge'>Title 1</strong>",color_background:"#ffffff00",color_border:"#ffffff00",border_size:"2",border_radius:"8"}})}else{if("video"===e)return d(d({},o),{},{type:"video",props:{video_url:null,autoplay:!1,hide_controls:!1,width:"100%",alignment:"center"}});if("review"===e)return d(d({},o),{},{type:"review",props:{avatar_url:null,title:this.$t("checkoutBuilder.managers.review.placeholders.title"),review_text:this.$t("checkoutBuilder.managers.review.placeholders.review_text"),color_background:"#fff",color_text:"#000",stars_amount:4,horizontal:!1}});if("advantages"===e)return d(d({},o),{},{type:"advantages",props:{icon:"BadgeCheckIcon",title:this.$t("checkoutBuilder.managers.advantages.placeholders.title"),size:"original",subtitle:this.$t("checkoutBuilder.managers.advantages.placeholders.subtitle"),color_main:"#247ef3ff",color_title:"#000",orientation:"horizontal",color_theme:"light"}});if("header"===e)return d(d({},o),{},{type:"header",props:{header_type:"bg_transparent",color_background:"#247ef3ff",image_top:null,product_image_type:"product",image_product:null,image_product_alignment:"left",show_subtitle:!1,title:this.$t("checkoutBuilder.managers.header.placeholders.title"),subtitle:this.$t("checkoutBuilder.managers.header.placeholders.title"),font_size_title:"24",font_size_subtitle:"14",color_title:"#000",color_subtitle:"#000"}});if("list"===e)return d(d({},o),{},{type:"list",props:{type:"check",alignment:"left",color_background:"#f7f7f7",showTitle:!1,title:"Lista",color_item:"#000",color_check:"#2b89eeff",pixel_size_item:"16",items:[{name:this.$t("checkoutBuilder.managers.list.placeholders.item")},{name:this.$t("checkoutBuilder.managers.list.placeholders.item")},{name:this.$t("checkoutBuilder.managers.list.placeholders.item")}]}});if("image"===e)return d(d({},o),{},{type:"image",props:{url:null,link:null,alignment:"center",width:"100%"}});if("countdown"===e)return d(d({},o),{},{type:"countdown",props:Object(n.a)({type:"time_qty",color_background:"#e55858ff",color_text:"#FFF",date_end:null,date_start:null,duration:{HH:"00",mm:"15",ss:"00"},fixed_on_top:!1,text_active:this.$t("checkoutBuilder.managers.countdown.placeholders.text_active"),text_ended:this.$t("checkoutBuilder.managers.countdown.placeholders.text_ended")},"type","time_qty")});if("facebook"===e)return d(d({},o),{},{type:"facebook",props:{type:"comment",url:null,page_options:{tabs:[],options:[]},comments_options:{numberOfComments:3,sort:"social"},size:"small"}});if("map"===e)return d(d({},o),{},{type:"map",props:{address:null,alignment:"center",width:"100%"}});if("exit-popup"===e)return{type:"exit-popup",props:{type:"img",click_action:"close",click_linkid:null,click_url:null,text_title:this.$t("checkoutBuilder.managers.exitPopup.placeholders.text_title"),text_content:this.$t("checkoutBuilder.managers.exitPopup.placeholders.text_content"),video_title:this.$t("checkoutBuilder.managers.exitPopup.placeholders.video_title"),color_video_title:"#000",video_url:"",action_button_text:this.$t("checkoutBuilder.managers.exitPopup.placeholders.action_button_text"),img_url:null}};if("seal"===e)return d(d({},o),{},{type:"seal",props:{type:"privacy",color_theme:"light",color_main:"#4593f9ff",color_title:"#FFF",title:this.$t("checkoutBuilder.managers.seals.placeholders.privacy.title"),subtitle:this.$t("checkoutBuilder.managers.seals.placeholders.privacy.subtitle"),guarantee_days:"7",width:"100%",alignment:"center"}});if("notifications"===e)return d(d({},o),{},{type:"notifications",props:{interest_24_hours:{active:!1,start_quantity:0},interest_past_week:{active:!1,start_quantity:0},interest_now:{active:!1,start_quantity:0},orders_24_hours:{active:!1,start_quantity:0},orders_past_week:{active:!1,start_quantity:0}}});if("chat"===e)return d(d({},o),{},{type:"chat",props:{provider:"jivochat",widget:"",extra1:""}});if("course"===e)return Object(n.a)({dragId:Object(r.v4)(),type:"component",hoverState:!1},"type","course");if("course-gap"===e)return{dragId:Object(r.v4)(),type:"course-gap",hoverState:!1}}},Column:function(){return{id:Object(r.v4)(),type:"column",width:"100",components:[Object(c.cloneObject)(this.Component("gap"))]}},Row:function(e){var t={id:Object(r.v4)(),type:"row",hoverState:!1,rowColumnLayout:1,columns:[Object(c.cloneObject)(this.Column())]};return"default"===e?t:"gap"===e?d(d({},t),{},{type:"gap",columns:[]}):"70/30"===e?d(d({},t),{},{rowColumnLayout:2,columns:[d(d({},Object(c.cloneObject)(this.Column())),{},{width:"70"}),d(d({},Object(c.cloneObject)(this.Column())),{},{width:"30"})]}):"25/75"===e?d(d({},t),{},{rowColumnLayout:3,columns:[d(d({},Object(c.cloneObject)(this.Column())),{},{width:"30"}),d(d({},Object(c.cloneObject)(this.Column())),{},{width:"70"})]}):"33/33/33"===e?d(d({},t),{},{rowColumnLayout:4,columns:[d(d({},Object(c.cloneObject)(this.Column())),{},{width:"33.3"}),d(d({},Object(c.cloneObject)(this.Column())),{},{width:"33.3"}),d(d({},Object(c.cloneObject)(this.Column())),{},{width:"33.3"})]}):"checkout"===e?d(d({},t),{},{type:"checkout",rowColumnLayout:2,columns:[d(d({},Object(c.cloneObject)(this.Column())),{},{width:"70",components:[Object(c.cloneObject)(this.Component("gap")),Object(c.cloneObject)(this.Component("checkout"))]}),d(d({},Object(c.cloneObject)(this.Column())),{},{width:"30"})]}):"school"===e?{dragId:Object(r.v4)(),type:"row",name:"Nova Seção",hoverState:!1,courses:[Object(c.cloneObject)(this.Component("course-gap"))]}:"school-gap"===e?{dragId:Object(r.v4)(),type:"gap",name:"",hoverState:!1,courses:[]}:void 0}}}},1675:function(e,t,o){"use strict";var n=o(5),r=(o(29),o(26),o(62),o(38),o(49),o(48),o(33),o(51),o(56),o(124),o(110),o(178),{".pdf":"application/pdf",".html":"text/html",".htm":"text/html",".js":"application/javascript",".css":"text/css",".json":"application/json",".xml":"application/xml",".txt":"text/plain",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".gif":"image/gif",".bmp":"image/bmp",".webp":"image/webp",".svg":"image/svg+xml",".ico":"image/vnd.microsoft.icon",".woff":"font/woff",".woff2":"font/woff2",".ttf":"font/ttf",".otf":"font/otf",".mp3":"audio/mpeg",".wav":"audio/wav",".ogg":"audio/ogg",".mp4":"video/mp4",".avi":"video/x-msvideo",".mov":"video/quicktime",".zip":"application/zip",".rar":"application/vnd.rar",".7z":"application/x-7z-compressed",".tar":"application/x-tar",".gz":"application/gzip",".doc":"application/msword",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".xls":"application/vnd.ms-excel",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation"});t.a={data:function(){return{downloadingAttachmentURLs:[]}},methods:{detectContentType:function(e){var t=("."+String(e||"").split(".").pop()).toLowerCase();return r[t]||"application/octet-stream"},isDownloadingAttachment:function(e){var t;return!(null===(t=this.downloadingAttachmentURLs)||void 0===t||!t.includes(e))},downloadAttachment:function(e,t){var o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,c,l,d,m,h,f,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e&&"string"==typeof e){n.next=4;break}return console.warn("Attachment download not triggered: need the fileURL as param.",{fileURL:e}),n.abrupt("return");case 4:if(!o.downloadingAttachmentURLs.includes(e)){n.next=7;break}return console.warn("Attachment download is loading.",{fileURL:e}),n.abrupt("return");case 7:return o.downloadingAttachmentURLs.push(e),r=String(t||"").replace(/\?|\s/g,"--"),c=new URL(e),l=c.pathname,d=l.startsWith("/v1/")?l.replace("/v1/","/"):l,n.next=14,o.$axios.get(d,{responseType:"blob",headers:{"Content-Disposition":'attachment; filename="'.concat(encodeURIComponent(r),'"')}});case 14:m=n.sent,h=o.detectContentType(r),f=window.URL.createObjectURL(new Blob([m.data],{type:h})),(y=document.createElement("a")).setAttribute("href",f),y.setAttribute("download",r),y.setAttribute("target",r),document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(f),n.next=32;break;case 27:n.prev=27,n.t0=n.catch(0),console.error("Error while trying to download attachment:"),console.error({error:n.t0}),o.$notification({color:"red",text:o.$t("defaults.notifications.genericError")});case 32:return n.prev=32,o.downloadingAttachmentURLs.splice(o.downloadingAttachmentURLs.indexOf(e),1),n.finish(32);case 35:case"end":return n.stop()}}),n,null,[[0,27,32,35]])})))()}}}},1676:function(e,t,o){"use strict";var n=o(824);t.a={components:{ModalSearchLessons:n.a},data:function(){return{showSearchBar:!1}},methods:{handleCtrlKKeyPress:function(e){(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),this.showSearchBar=!0)}},mounted:function(){document.addEventListener("keydown",this.handleCtrlKKeyPress)},beforeDestroy:function(){document.removeEventListener("keydown",this.handleCtrlKKeyPress)}}},1693:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n=[{name:"Webhooks",logo:"webhook-icon.png",to:"/apps/webhooks/integrations",brand:!0,is_saas:!0},{name:"API",logo:"api.svg",to:"/apps/public-api/integrations",brand:!0,is_saas:!0},{name:"hotzapp",logo:"hotzapp-logo.png",to:"/apps/hotzapp/integrations"},{name:"ActiveCampaign",logo:"activecampaign-logo.png",is_saas:!0},{name:"eNotas",logo:"enotas-logo.png",maxHeight:"3rem"},{name:"notazz",logo:"notazz.png",maxWidth:"10rem"},{name:"leadlovers",logo:"leadlovers-logo.png"},{name:"mailchimp",logo:"mailchimp-logo.png"},{name:"memberkit",logo:"memberkit-logo.png"},{name:"MailingBoss",logo:"mailingboss-logo.png",integration:"Builderall"},{name:"Tiny ERP",logo:"tiny.svg"},{name:"voxuy",logo:"voxuy.svg",href:"https://intercom.help/voxuy/pt-BR/articles/6978531-kiwify"},{name:"Notificações Inteligentes",logo:"notify-intel.png",href:"https://ajuda.notificacoesinteligentes.com/pt-br/article/como-integrar-com-a-kiwify-bdu256/",maxHeight:"7rem"},{name:"Zapier",logo:"zapier-logo.svg",href:"https://ajuda.kiwify.com.br/pt-br/article/como-integrar-com-a-zapier-1o77sks/",maxHeight:"2.5rem",oauth:{origin:"https://zapier.com",params:{required:["client_id","client_secret","redirect_uri","state","scope"],transform:{authorization_code:"code",scope:"roles"}}},is_saas:!0}]},1696:function(e,t,o){function n(e){e||(e={}),this.opts=e,this.container=e.container||document.body,this.setHTML(e)}o(33),o(51),o(56),o(124),o(103),o(37),e.exports=function(e){return new n(e)},n.prototype.parseHTMLOptions=function(e){return"string"==typeof e&&(e={html:e}),e||(e={}),(e.body||e.head)&&(e.body||(e.body=""),e.head||(e.head=""),e.html="<!DOCTYPE html><html><head>"+e.head+"</head><body>"+e.body+"</body></html>"),e.sandboxAttributes||(e.sandboxAttributes=["allow-scripts"]),e},n.prototype.remove=function(){this.iframe&&this.container.removeChild(this.iframe)},n.prototype.setHTML=function(e){if((e=this.parseHTMLOptions(e)).html||e.src){if(this.remove(),e.src)var t=e.src;else{var o=new Blob([e.html],{encoding:"UTF-8",type:"text/html"});t=("undefined"!=typeof URL?URL:webkitURL).createObjectURL(o)}var n=document.createElement("iframe");n.src=t,n.setAttribute("scrolling",this.opts.scrollingDisabled?"no":"yes"),n.style.width="100%",n.style.height="100%",n.style.border="0",n.sandbox=e.sandboxAttributes.join(" "),e.name&&n.setAttribute("name",e.name);var r=n.outerHTML;this.container.insertAdjacentHTML("beforeend",r);var c=this.container.querySelectorAll("iframe");this.iframe=c[c.length-1]}}},188:function(e,t,o){"use strict";o(40),o(177);var n=o(153);t.a={mixins:[n.a],data:function(){return{mapComponentName:{exitPopup:"exit-popup",notifications:"notifications",chat:"chat"}}},computed:{extraComponents:function(){return"desktop"===this.selectedLayout?this.$store.state.checkoutBuilder.checkout.desktop.data.extra_components:this.$store.state.checkoutBuilder.checkout.mobile.data.extra_components},selectedLayout:function(){return this.$store.state.checkoutBuilder.selectedLayout}},methods:{setComponent:function(e,t){e?("desktop"===this.selectedLayout&&"exitPopup"!==t&&this.$store.commit("checkoutBuilder/SYNC_EXTRA_COMPONENT_TO_MOBILE",{data:this.Component(this.mapComponentName[t]),componentKey:this.findComponent(t,this.$store.state.checkoutBuilder.checkout.mobile.data.extra_components).key}),this.$store.commit("checkoutBuilder/SET_EXTRA_COMPONENT",{data:this.Component(this.mapComponentName[t]),componentKey:this.findComponent(t).key})):("desktop"===this.selectedLayout&&"exitPopup"!==t&&this.$store.commit("checkoutBuilder/SYNC_EXTRA_COMPONENT_TO_MOBILE",{componentKey:this.findComponent(t,this.$store.state.checkoutBuilder.checkout.mobile.data.extra_components).key}),this.$store.commit("checkoutBuilder/DELETE_EXTRA_COMPONENT",{componentKey:this.findComponent(t).key}))},setComponentData:function(e,data){var t=this;if("desktop"===this.selectedLayout&&"exitPopup"!==e&&this.$store.commit("checkoutBuilder/SYNC_EXTRA_COMPONENT_TO_MOBILE",{data:this.$lodashCloneDeep(data),componentKey:this.findComponent(e,this.$store.state.checkoutBuilder.checkout.mobile.data.extra_components).key}),this.$store.commit("checkoutBuilder/SET_EXTRA_COMPONENT",{data:data,componentKey:this.findComponent(e).key}),this.extraComponents.length){var o=0;this.extraComponents.map((function(e){e.type===t.mapComponentName.exitPopup&&(o+=1)})),o>1&&this.$store.commit("checkoutBuilder/DELETE_EXTRA_COMPONENT",{componentKey:this.findComponent("exitPopup").key})}},findComponent:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.extraComponents;if(o.length){var n=o.findIndex((function(o){return o.type===t.mapComponentName[e]}));return-1!==n?{component:this.$lodashCloneDeep(this.extraComponents[n]),key:n,active:!0}:{key:-1,component:null,active:!1}}return{key:-1,component:null,active:!1}}}}},302:function(e,t,o){o(33),o(109),e.exports={placeCaretAtEnd:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(t)}else if(void 0!==document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.collapse(!1),n.select()}},getSelectionTextInfo:function(e){var t,o,n=!1,r=!1;if(window.getSelection){var c=window.getSelection();c.rangeCount&&((o=(t=c.getRangeAt(0)).cloneRange()).selectNodeContents(e),o.setEnd(t.startContainer,t.startOffset),n=""==o.toString(),o.selectNodeContents(e),o.setStart(t.endContainer,t.endOffset),r=""==o.toString())}else document.selection&&"Control"!=document.selection.type&&((o=(t=document.selection.createRange()).duplicate()).moveToElementText(e),o.setEndPoint("EndToStart",t),n=""==o.text,o.moveToElementText(e),o.setEndPoint("StartToEnd",t),r=""==o.text);return{atStart:n,atEnd:r}}}},360:function(e,t,o){"use strict";o(321),o(20),o(17),o(15),o(27),o(19),o(28);var n=o(4),r=o(5),c=o(96),l=o(105),d=o(157),m=o(191),h=o(133);o(29);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(m.a)(this,o)}}var O=function(e){Object(d.a)(m,e);var t,o,n=v(m);function m(e,t){var o;return Object(c.a)(this,m),(o=n.call(this,e,t)).id="ModerationPlugin",o.type="modifier",o.url=null,o.fileID=null,o.moderateVideo=t.moderateVideo,o}return Object(l.a)(m,[{key:"install",value:function(){var e=this;this.uppy.on("transloadit:result",this.handleResult.bind(this)),this.uppy.addPostProcessor((function(t){return e.moderate(t)})),this.uppy.on("postprocess-progress",(function(e,progress){console.log(e,progress)}))}},{key:"moderate",value:(o=Object(r.a)(regeneratorRuntime.mark((function e(t){var o,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this.uppy.getFile(this.fileID),n=o.progress,this.uppy.setFileState(this.fileID,{progress:y(y({},n),{},{postProcess:{fileId:this.fileID,mode:"indeterminate",message:"Moderating video..."}})}),this.uppy.emit("postprocess-progress",o,{mode:"indeterminate",message:"Codificando..."}),e.next=7,this.moderateVideo(this.url);case 7:return r=e.sent,this.uppy.setFileState(this.fileID,{progress:y(y({},n),{},{postProcess:{fileId:this.fileID,mode:"determinate",message:"Video moderation complete"}})}),this.uppy.emit("postprocess-complete",o),e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(0),console.log(e.t0),this.uppy.emit("postprocess-error","x",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return o.apply(this,arguments)})},{key:"handleResult",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:":original"===t&&(this.fileID=o.localId,this.url=o.ssl_url);case 1:case"end":return e.stop()}}),e,this)}))),function(e,o){return t.apply(this,arguments)})}]),m}(o(128).a);t.a=O},369:function(e,t,o){"use strict";var n=o(5),r=(o(29),o(44),o(321),o(20),o(17),o(15),o(27),o(19),o(28),o(4)),c=o(96),l=o(105),d=o(157),m=o(191),h=o(133),f=(o(33),o(128)),y=o(14);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(m.a)(this,o)}}var k=function(e){Object(d.a)(m,e);var t,o,r=w(m);function m(e,t){var o;return Object(c.a)(this,m),(o=r.call(this,e,t)).id="imageModerationPlugin",o.type="modifier",o.url=null,o.encodingComplete=!1,o.fileID=null,o.moderateImage=t.moderateImage,o}return Object(l.a)(m,[{key:"install",value:function(){var e=this;this.uppy.on("transloadit:result",this.handleResult.bind(this)),this.uppy.addPostProcessor((function(t){return e.moderate(t)}))}},{key:"updateProgress",value:function(e,t,o){this.uppy.setFileState(this.fileID,{progress:O(O({},t),{},{uploadComplete:100===o,postProcess:{fileId:this.fileID,mode:"determinate",message:"Moderating video...",progress:o}})})}},{key:"simulateProgress",value:function(e,t){var o=this,n=0,r=setInterval((function(){(n+=10)>100&&(n=100,clearInterval(r)),o.updateProgress(e,t,n)}),1e3);return r}},{key:"moderate",value:(o=Object(n.a)(regeneratorRuntime.mark((function e(t){var o,n,r,c,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){!function t(){l.encodingComplete?e():setTimeout(t,100)}()}));case 3:return o=this.uppy.getFile(this.fileID),n=o.progress,this.updateProgress(o,n,0),r=this.simulateProgress(o,n),e.next=9,this.moderateImage(this.url);case 9:return c=e.sent,clearInterval(r),this.updateProgress(o,n,100),this.uppy.emit("postprocess-complete",o),e.abrupt("return",c);case 16:throw e.prev=16,e.t0=e.catch(0),console.log(e.t0),this.uppy.emit("moderation-fail",{}),this.uppy.emit("postprocess-error","x",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e){return o.apply(this,arguments)})},{key:"handleResult",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:":original"===t&&(this.encodingComplete=!0,this.fileID=o.localId,this.url=Object(y.addCdn)(o.ssl_url));case 1:case"end":return e.stop()}}),e,this)}))),function(e,o){return t.apply(this,arguments)})}]),m}(f.a);t.a={data:function(){return{imageModeration:k}},methods:{moderateImage:function(e){var t=arguments,o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,c,data,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!(t.length>1&&void 0!==t[1])||t[1],n.prev=1,n.next=4,o.$axios.post("/uploads/moderate-image",{fileURL:o.addCdn(e)});case 4:return c=n.sent,data=c.data,n.abrupt("return",data);case 9:if(n.prev=9,n.t0=n.catch(1),setTimeout((function(){var e=document.querySelector(".uppy-StatusBar-actionBtn");e&&(e.style.display="none")}),2e3),o.$emit("uploading",!1),!n.t0.response||!n.t0.response.data||n.t0.response.data.success){n.next=23;break}if("ModerationFailed"!==n.t0.response.data.error){n.next=20;break}throw l=o.$t("defaults.components.uppy.errorModeration"),alert(l),new Error(l);case 20:return n.abrupt("return",o.handleModerateImageError(n.t0.response.data.error,e,r));case 21:n.next=24;break;case 23:return n.abrupt("return",o.handleModerateImageError(n.t0,e,r));case 24:case"end":return n.stop()}}),n,null,[[1,9]])})))()},handleModerateImageError:function(e,t,o){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=4;break}return n.abrupt("return",r.moderateImage(t,!1));case 4:throw alert(e),setTimeout((function(){var e=document.querySelector(".uppy-StatusBar-actionBtn--retry");e&&(e.style.display="none")}),2e3),new Error(e);case 7:case"end":return n.stop()}}),n)})))()}}}},42:function(e,t,o){"use strict";o(59),o(14);t.a={props:{props:{type:Object,default:function(){return{}}},preview:{type:Boolean},columnWidth:{},mobile:{type:Boolean},data:{type:Object},rowKey:{},columnKey:{},componentKey:{}},computed:{selectedLayout:function(){return this.$store.state.checkoutBuilder.selectedLayout},isComponentSelected:function(){return this.selectedComponent.component.id===this.data.id},drag:function(){return this.$store.state.checkoutBuilder.drag},isMobileVersion:function(){return"mobile"===this.selectedLayout||this.columnWidth<Number("50")},alignment:function(){var e=this.props.alignment;return"left"===e?"justify-start":"center"===e?"justify-center":"justify-end"},selectedComponent:function(){return this.$store.state.checkoutBuilder.selectedComponent},alignmentOptions:function(){return this.$t("checkoutBuilder.managers.defaults.alignmentOptions")}},methods:{prop:function(e){return this.props[e]},log:function(e){}}}},511:function(e,t,o){"use strict";t.a={data:function(){return{cancelToken:null,errorAxios:null}},created:function(){this.cancelToken=this.$axios.CancelToken.source()},methods:{refreshCancelToken:function(){console.log("REFRESH"),this.cancelToken.cancel("Operation canceled by the user."),this.cancelToken=this.$axios.CancelToken.source()},isAxiosCancel:function(){return!this.$axios.isCancel(this.errorAxios)}}}},79:function(e,t,o){"use strict";var n=o(5);o(29),o(33),o(51),o(56),o(124);t.a={props:{props:{type:Array,default:function(){return[]}},data:{type:Object}},data:function(){return{localData:null}},mounted:function(){this.localData=this.$lodashCloneDeep(this.selectedComponent.component)},computed:{selectedComponent:function(){return this.$store.state.checkoutBuilder.selectedComponent},sizeOptions:function(){return this.$t("checkoutBuilder.managers.defaults.sizeOptions")}},watch:{selectedComponent:{handler:function(){this.localData=this.$lodashCloneDeep(this.selectedComponent.component)},deep:!0}},methods:{convertToBlobURL:function(e){return URL.createObjectURL(e[0])},loadImage:function(label,e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.changeValue(label,URL.createObjectURL(e[0]));case 1:case"end":return o.stop()}}),o)})))()},changeValueNested:function(e,option,t){this.localData.props[e][option]=t,this.changeComponent()},changeValue:function(e,t){this.$set(this.localData.props,e,t),this.changeComponent()},changeComponent:function(){var e=this.selectedComponent.context,t=e.rowKey,o=e.componentKey,n=e.columnKey;this.$store.commit("checkoutBuilder/SET_COMPONENT",{rowKey:t,componentKey:o,columnKey:n,data:this.localData})}}}},790:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o(40),o(26),o(62),o(59);function n(e){if(!/^\d{9}$/.test(e))return!1;var t=e.split("").map(Number);return 0===(3*(t[0]+t[3]+t[6])+7*(t[1]+t[4]+t[7])+1*(t[2]+t[5]+t[8]))%10}},87:function(e,t,o){"use strict";t.a={data:function(){return{localComponent:{props:{}}}},computed:{viewerReady:function(){return this.localComponent.props}},watch:{data:{handler:function(){this.localComponent=this.$lodashCloneDeep(this.data)},deep:!0}},mounted:function(){this.localComponent=this.$lodashCloneDeep(this.data)},methods:{changeValuefromViewer:function(e,t){this.changeComponentfromViewer()},changeComponentfromViewer:function(){this.$store.commit("checkoutBuilder/SET_COMPONENT",{rowKey:this.rowKey,componentKey:this.componentKey,columnKey:this.columnKey,data:this.localComponent})}}}}}]);